{% extends 'customer/base.html' %}

{% block content %}

<div class="container">
  <div class="row justify-content-center mt-5">
    <div class="col-md-6 col-sm-12 text-center">
      <h2 class="text-center mb-2" style="font-family: 'Poppins', sans-serif; font-size: 1.6rem;">
        Menu
      </h2>
      <h1 class="mb-3 pt-3 animate-craving" 
          style="font-family: 'Quicksand', sans-serif; font-size: 2.8rem; font-weight: 700; letter-spacing: 1px; font-style: italic;">
        What's Cooking? üç≥
      </h1>
    </div>
  </div>

  <div class="row justify-content-center mt-2 mb-5">
    <div class="col-md-6 col-sm-12 text-center">
      <form method="GET" action="{% url 'menu-search' %}">
        <div class="md-form mt-0 active-darkblue-2">
          <input type="text" class="form-control" name="q" placeholder="Search the Menu" aria-label="Search" value="{{ request.GET.q }}">
        </div>
      </form>
    </div>
  </div>

  <div class="row justify-content-center">
    {% for item in menu_items %}
    <div class="card" style="width: 16rem;">
    <div class="square-image-wrapper mx-auto">
        <img src="{{ item.image.url }}" class="square-img rounded-square" alt="{{ item.name }}">
    </div>
    <div class="card-body p-2">
        <h5 class="card-title" style="font-family: 'Poppins', sans-serif;">{{ item.name }}</h5>
        <p class="card-text" style="font-size: 0.95rem;">{{ item.description }}</p>
        <p style="font-weight: 500;">Price: ‚Ç±{{ item.price }}</p>
    </div>
    </div>
    {% endfor %}
  </div>
</div>

<style>
  .animate-craving {
    animation: floatIn 1.2s ease-out;
  }

  @keyframes floatIn {
    0% {
      opacity: 0;
      transform: translateY(-20px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>

<style>
.square-image-wrapper {
  width: 100%;
  padding-top: 100%; 
  position: relative;
  overflow: hidden;
  border-radius: 16px;
}

.square-img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.rounded-square {
  border-radius: 16px; 
}
</style>

{% endblock content %}